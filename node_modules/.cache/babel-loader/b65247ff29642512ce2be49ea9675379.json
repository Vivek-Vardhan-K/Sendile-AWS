{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vivek\\\\OneDrive\\\\Desktop\\\\React Files\\\\Sendile-master\\\\Sendile-master\\\\sendile\\\\src\\\\search-component\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport \"./search-component.css\";\nimport logo from \"./main-logo.png\";\nimport axios from \"axios\";\nimport Results from \"../results-component/Results\";\nimport { useSelector } from \"react-redux\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { useDispatch } from \"react-redux\";\nimport LandFooter from \"../footer/LandFooter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Search() {\n  _s();\n\n  const [input, setInput] = useState(\"\");\n  const [search, setSearch] = useState(false);\n  const [bookData, setBookData] = useState([]);\n  const token = useSelector(state => state.jwtToken);\n  const email = useSelector(state => state.email);\n  const isLoading = useSelector(state => state.isLoading);\n  const dispatch = useDispatch();\n\n  const handleTabClosing = () => {\n    axios({\n      method: \"delete\",\n      url: `https://teleportx.herokuapp.com/removeToken/` + token\n    });\n  };\n\n  console.log(email);\n  window.addEventListener(\"unload\", handleTabClosing);\n\n  const searchHandler = inp => {\n    console.log(\"search started!\");\n    dispatch({\n      type: \"SWITCH_LOADING\"\n    });\n    axios({\n      method: \"get\",\n      url: `http://localhost:8080/search-by-title/` + inp,\n      data: {}\n    }).then(res => {\n      dispatch({\n        type: \"SWITCH_LOADING\"\n      });\n      setSearch(true);\n      setBookData(res.data);\n    });\n  };\n\n  if (!search) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logo,\n      alt: \"Logo\",\n      className: \"logo-pos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 22\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(InputGroup, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        className: \"form-inp\",\n        placeholder: \"Search with Title\",\n        \"aria-label\": \"Recipient's username\",\n        \"aria-describedby\": \"basic-addon2\",\n        onChange: e => setInput(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-primary\",\n        id: \"button-addon2\",\n        onClick: !isLoading ? () => {\n          searchHandler(input);\n        } : null,\n        children: isLoading ? \"searching\" : \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(LandFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }, this);else {\n    return /*#__PURE__*/_jsxDEV(Results, {\n      bookData: bookData,\n      phold: input,\n      trig: inp => {\n        searchHandler(inp);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Search, \"ICUwNb9u+/f8jgFvk5sIYH/kC2E=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/vivek/OneDrive/Desktop/React Files/Sendile-master/Sendile-master/sendile/src/search-component/Search.js"],"names":["React","useState","logo","axios","Results","useSelector","InputGroup","Button","FormControl","useDispatch","LandFooter","Search","input","setInput","search","setSearch","bookData","setBookData","token","state","jwtToken","email","isLoading","dispatch","handleTabClosing","method","url","console","log","window","addEventListener","searchHandler","inp","type","data","then","res","e","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport \"./search-component.css\";\nimport logo from \"./main-logo.png\";\nimport axios from \"axios\";\nimport Results from \"../results-component/Results\";\nimport { useSelector } from \"react-redux\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { useDispatch } from \"react-redux\";\nimport LandFooter from \"../footer/LandFooter\";\n\nfunction Search() {\n  const [input, setInput] = useState(\"\");\n  const [search, setSearch] = useState(false);\n  const [bookData, setBookData] = useState([]);\n  const token = useSelector((state) => state.jwtToken);\n  const email = useSelector((state) => state.email);\n  const isLoading = useSelector((state) => state.isLoading);\n  const dispatch = useDispatch();\n  const handleTabClosing = () => {\n    axios({\n      method: \"delete\",\n      url: `https://teleportx.herokuapp.com/removeToken/` + token,\n    });\n  };\n  console.log(email);\n  window.addEventListener(\"unload\", handleTabClosing);\n\n  const searchHandler = (inp) => {\n    console.log(\"search started!\");\n    dispatch({\n      type: \"SWITCH_LOADING\",\n    });\n    axios({\n      method: \"get\",\n      url: `http://localhost:8080/search-by-title/` + inp,\n      data: {},\n    }).then((res) => {\n      dispatch({\n        type: \"SWITCH_LOADING\",\n      });\n      setSearch(true);\n      setBookData(res.data);\n    });\n  };\n  if (!search)\n    return (\n      <div className=\"page-full\">\n        <img src={logo} alt=\"Logo\" className=\"logo-pos\" />\n        {isLoading ? <div className=\"loader\"></div> : \"\"}\n        <InputGroup className=\"mb-3\">\n          <FormControl\n            className=\"form-inp\"\n            placeholder=\"Search with Title\"\n            aria-label=\"Recipient's username\"\n            aria-describedby=\"basic-addon2\"\n            onChange={(e) => setInput(e.target.value)}\n          />\n          <Button\n            variant=\"outline-primary\"\n            id=\"button-addon2\"\n            onClick={\n              !isLoading\n                ? () => {\n                    searchHandler(input);\n                  }\n                : null\n            }\n          >\n            {isLoading ? \"searching\" : \"Search\"}\n          </Button>\n        </InputGroup>\n        <LandFooter />\n      </div>\n    );\n  else {\n    return (\n      <Results\n        bookData={bookData}\n        phold={input}\n        trig={(inp) => {\n          searchHandler(inp);\n        }}\n      />\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}